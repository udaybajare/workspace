<!DOCTYPE html>
<html dir="ltr" lang="zxx">

  <head>
    <meta charset="utf-8">
    <title>The Project | Icon Boxes</title>
    <meta name="description" content="The Project a Bootstrap-based, Responsive HTML5 Template">
    <meta name="author" content="author">

    <!-- Mobile Meta -->
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Favicon -->
    <link rel="shortcut icon" href="images/favicon.ico">

    <!-- Web Fonts -->
    <link href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,500,500i,700,700i" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Raleway:300,400,700" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Pacifico" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=PT+Serif" rel="stylesheet">

    <!-- Bootstrap core CSS -->
    <link href="bootstrap/css/bootstrap.css" rel="stylesheet">

    <!-- Font Awesome CSS -->
    <link href="fonts/font-awesome/css/font-awesome.css" rel="stylesheet">

    <!-- Plugins -->
    <link href="plugins/magnific-popup/magnific-popup.css" rel="stylesheet">
    <link href="css/animations.css" rel="stylesheet">
    <link href="plugins/slick/slick.css" rel="stylesheet">
    
    <!-- The Project's core CSS file -->
    <!-- Use css/rtl_style.css for RTL version -->
    <link href="css/style.css" rel="stylesheet" >
    <!-- The Project's Typography CSS file, includes used fonts -->
    <!-- Used font for body: Roboto -->
    <!-- Used font for headings: Raleway -->
    <!-- Use css/rtl_typography-default.css for RTL version -->
    <link href="css/typography-default.css" rel="stylesheet" >
    <!-- Color Scheme (In order to change the color scheme, replace the blue.css with the color scheme that you prefer) -->
    <link href="css/skins/light_blue.css" rel="stylesheet">

    <!-- Custom css -->
    <link href="css/custom.css" rel="stylesheet">
    
  </head>

  <!-- body classes:  -->
  <!-- "boxed": boxed layout mode e.g. <body class="boxed"> -->
  <!-- "pattern-1 ... pattern-9": background patterns for boxed layout mode e.g. <body class="boxed pattern-1"> -->
  <!-- "transparent-header": makes the header transparent and pulls the banner to top -->
  <!-- "gradient-background-header": applies gradient background to header -->
  <!-- "page-loader-1 ... page-loader-6": add a page loader to the page (more info @components-page-loaders.html) -->
  <body class=" ">

    <!-- scrollToTop -->
    <!-- ================ -->
    <div class="scrollToTop circle"><i class="fa fa-angle-up"></i></div>

    <!-- page wrapper start -->
    <!-- ================ -->
    <div class="page-wrapper">
      <!-- header-container start -->
      <div class="header-container">
        <!-- header-top start -->
        <!-- classes:  -->
        <!-- "dark": dark version of header top e.g. class="header-top dark" -->
        <!-- "colored": colored version of header top e.g. class="header-top colored" -->
        <!-- ================ -->
        <div class="header-top dark">
          <div class="container">
            <div class="row">
              <div class="col-3 col-sm-6 col-lg-9">
                <!-- header-top-first start -->
                <!-- ================ -->
              </div>
              <div class="col-9 col-sm-6 col-lg-3">

                <!-- header-top-second start -->
                <!-- ================ -->
                <div id="header-top-second"  class="clearfix">

                  <!-- header top dropdowns start -->
                  <!-- ================ -->
                  <div class="header-top-dropdown text-right">
                    <div class="btn-group">
                      <a href="page-signup.html" class="btn btn-default btn-sm"><i class="fa fa-user pr-2"></i> Sign Up</a>
                    </div>
                    <div class="btn-group">
                    </div>
                  </div>
                  <!--  header top dropdowns end -->
                </div>
                <!-- header-top-second end -->
              </div>
            </div>
          </div>
        </div>
        <!-- header-top end -->

        <!-- header start -->
        <!-- classes:  -->
        <!-- "fixed": enables fixed navigation mode (sticky menu) e.g. class="header fixed clearfix" -->
        <!-- "fixed-desktop": enables fixed navigation only for desktop devices e.g. class="header fixed fixed-desktop clearfix" -->
        <!-- "fixed-all": enables fixed navigation only for all devices desktop and mobile e.g. class="header fixed fixed-desktop clearfix" -->
        <!-- "dark": dark version of header e.g. class="header dark clearfix" -->
        <!-- "centered": mandatory class for the centered logo layout -->
        <!-- ================ -->
        <header class="header fixed fixed-desktop clearfix">
          <div class="container">
            <div class="row">
              <div class="col-md-auto hidden-md-down">
                <!-- header-first start -->
                <!-- ================ -->
                <div class="header-first clearfix">

                  <!-- logo -->
                  <div id="logo" class="logo">
                    <a href="index.html"><img id="logo_img" src="images/logo_light_blue.png" alt="The Project"></a>
                  </div>

                  <!-- name-and-slogan -->
                  <div class="site-slogan">
                    Multipurpose HTML5 Template
                  </div>

                </div>
                <!-- header-first end -->

              </div>
              <div class="col-lg-8 ml-auto">

                <!-- header-second start -->
                <!-- ================ -->
                <div class="header-second clearfix">
                  
                <!-- main-navigation start -->
                <!-- classes: -->
                <!-- "onclick": Makes the dropdowns open on click, this the default bootstrap behavior e.g. class="main-navigation onclick" -->
                <!-- "animated": Enables animations on dropdowns opening e.g. class="main-navigation animated" -->
                <!-- ================ -->
                <div class="main-navigation main-navigation--mega-menu  animated">
                  <nav class="navbar navbar-expand-lg navbar-light p-0">
                    <div class="navbar-brand clearfix hidden-lg-up">

                      <!-- logo -->
                      <div id="logo-mobile" class="logo">
                        <a href="index.html"><img id="logo-img-mobile" src="images/logo_light_blue.png" alt="The Project"></a>
                      </div>

                      <!-- name-and-slogan -->
                      <div class="site-slogan">
                        Multipurpose HTML5 Template
                      </div>

                    </div>
                    
                    <!-- header dropdown buttons -->
                    <div class="header-dropdown-buttons hidden-lg-up p-0 ml-auto mr-3">
                      <div class="btn-group">
                        <button type="button" class="btn dropdown-toggle dropdown-toggle--no-caret" id="header-drop-3" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"><i class="fa fa-search"></i></button>
                        <ul class="dropdown-menu dropdown-menu-right dropdown-animation" aria-labelledby="header-drop-3">
                          <li>
                            <form role="search" class="search-box margin-clear">
                              <div class="form-group has-feedback">
                                <input type="text" class="form-control" placeholder="Search">
                                <i class="fa fa-search form-control-feedback"></i>
                              </div>
                            </form>
                          </li>
                        </ul>
                      </div>
                      <div class="btn-group">
                      </div>
                    </div>
                    <!-- header dropdown buttons end -->
                    
                    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-collapse-1" aria-controls="navbar-collapse-1" aria-expanded="false" aria-label="Toggle navigation">
                      <span class="navbar-toggler-icon"></span>
                    </button>

                    <div class="collapse navbar-collapse" id="navbar-collapse-1">
                    </div>
                </div>
                <!-- main-navigation end -->
                </div>
                <!-- header-second end -->

              </div>
              <div class="col-auto hidden-md-down">
                <!-- header dropdown buttons -->
                <div class="header-dropdown-buttons">
                  <div class="btn-group">
                    <button type="button" class="btn dropdown-toggle dropdown-toggle--no-caret" id="header-drop-1" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"><i class="fa fa-search"></i></button>
                    <ul class="dropdown-menu dropdown-menu-right dropdown-animation" aria-labelledby="header-drop-1">
                      <li>
                        <form role="search" class="search-box margin-clear">
                          <div class="form-group has-feedback">
                            <input type="text" class="form-control" placeholder="Search">
                            <i class="fa fa-search form-control-feedback"></i>
                          </div>
                        </form>
                      </li>
                    </ul>
                  </div>
                  <div class="btn-group">
                  </div>
                </div>
                <!-- header dropdown buttons end -->
              </div>
            </div>
          </div>
        </header>
        <!-- header end -->
      </div>
      <!-- header-container end -->
      <!-- breadcrumb start -->
      <!-- ================ -->
      
      <!-- breadcrumb end -->

      <!-- main-container start -->
      <!-- ================ -->
      <section class="main-container padding-bottom-clear">
      <!-- section -->
        <!-- ================ -->
        <section class="light-gray-bg pv-30 padding-bottom-clear clearfix">
          <div class="container">
            <div class="row">
              <div class="col-md-12 ">
                <div class="pv-30 ph-20 feature-box bordered shadow text-center object-non-visible" data-animation-effect="fadeInDownSmall" data-effect-delay="100">
                  
                  <h3>${projectName}</h3>
                  <div class="separator clearfix"></div>
                  <p>${projectDesc}</p>
                  
                </div>
              </div>             
            </div>
            <br>
            <form action="updateProject" class="projDetails" style="display:none;" method="POST">
            <div class="row" >
              <div class="col-md-4 ">
                <div class="ph-20 feature-box text-center object-non-visible" data-animation-effect="fadeInDownSmall" data-effect-delay="100">
                  <div class="form-group has-feedback">
                    <label>PO Date</label>
                    <input type="text" name="poDate" class="form-control" value=" ">                   
                  </div>
                </div>
              </div>
              <div class="col-md-4 ">
                <div class="ph-20 feature-box text-center object-non-visible" data-animation-effect="fadeInDownSmall" data-effect-delay="100">
                  <label>PO Number</label>
                    <input type="text" name="poNumber" class="form-control" value=" ">
                </div>
              </div>
              <div class="col-md-4 ">
                <div class="ph-20 feature-box text-center object-non-visible" data-animation-effect="fadeInDownSmall" data-effect-delay="100">
                 <label>Contact Person Name</label>
                    <input type="text" name="contactName" class="form-control" >
                </div>
              </div>
            </div>
            <br>
            <div class="row">
              <div class="col-md-4 ">
                <div class="ph-20 feature-box text-center object-non-visible" data-animation-effect="fadeInDownSmall" data-effect-delay="100">
                  <label>Contact Email</label>
                    <input type="text" name="contactEmail" class="form-control">
                </div>
              </div>
              <div class="col-md-4 ">
                <div class="ph-20 feature-box text-center object-non-visible" data-animation-effect="fadeInDownSmall" data-effect-delay="100">
                   <label>Contact Phone</label>
                    <input type="text" name="contactPhone" class="form-control">
                </div>
              </div>
              <div class="col-md-4 ">
                <div class="ph-20 feature-box text-center object-non-visible" data-animation-effect="fadeInDownSmall" data-effect-delay="100">
                   <label>GST Number</label>
                    <input type="text" name="gstNumber" class="form-control" value=" ">
                </div>
              </div>
            </div>
            <br>
            <div class="row">
            <div class="col-md-4 ">
                <div class="ph-20 feature-box text-center object-non-visible" data-animation-effect="fadeInDownSmall" data-effect-delay="100">
                   <label>Address</label>
                    <input type="text" name="address" class="form-control">
                </div>
            </div>
            
            <div class="col-md-4 ">
					<div class="ph-20 feature-box text-center object-non-visible" data-animation-effect="fadeInDownSmall" data-effect-delay="100">
						<label></label>
						
					</div>					
			</div>
			<div class="col-md-4 ">
					<div class="ph-20 feature-box text-center object-non-visible" data-animation-effect="fadeInDownSmall" data-effect-delay="100">
						<label></label>
						<br>
						<button type="submit" class="btn btn-default">Update Project</button>
					</div>					
			</div>
            <input type="hidden" name="projectId" value="${projectId}"/>
            </div>
            </form>
            
                        <!-- Start -->
            
            <form name="generateBOQ" action="generate" method="POST" class="importBOQ" id="generateBOQ" style="display:none;">
            <div class="row">
				<div class="col-md-3 ">
                	<div class="ph-20 feature-box text-center object-non-visible" data-animation-effect="fadeInDownSmall" data-effect-delay="100">
						<label>D Name</label>
						<input type="text" name="dName" value="" />
					</div>
				</div>
				<div class="col-md-3 ">
                	<div class="ph-20 feature-box text-center object-non-visible" data-animation-effect="fadeInDownSmall" data-effect-delay="100">
						<label>Utility  &ensp;</label>
						<input type="text" name="utility" value="" />
					</div>
				</div>
				<div class="col-md-3 ">
                	<div class="ph-20 feature-box text-center object-non-visible" data-animation-effect="fadeInDownSmall" data-effect-delay="100">
						<label>Pressure</label>
						<input type="text" name="pressure" value="" />
					</div>
				</div>
				<div class="col-md-3 ">
                	<div class="ph-20 feature-box text-center object-non-visible" data-animation-effect="fadeInDownSmall" data-effect-delay="100">
						<label>Temperature</label>
						<input type="text" name="temperature" value="" />
					</div>
				</div>
			</div>
			<div class="row">
				<div class="col-md-3 ">
                	<div class="ph-20 feature-box text-center object-non-visible" data-animation-effect="fadeInDownSmall" data-effect-delay="100">
						<label>D Number</label>
						<input type="text" name="dNo" value="" />
					</div>
				</div>
				<div class="col-md-3 ">
                	<div class="ph-20 feature-box text-center object-non-visible" data-animation-effect="fadeInDownSmall" data-effect-delay="100">
						<label>Client &ensp;</label>
						<input type="text" name="client" value="" />
					</div>
				</div>
				<div class="col-md-3 ">
                	<div class="ph-20 feature-box text-center object-non-visible" data-animation-effect="fadeInDownSmall" data-effect-delay="100">
						<label>Site &ensp;&ensp;&ensp;</label>
						<input type="text" name="site" value="" />
					</div>
				</div>
				<div class="col-md-3 ">
                	<div class="ph-20 feature-box text-center object-non-visible" data-animation-effect="fadeInDownSmall" data-effect-delay="100">
						<label>Project &ensp;</label>
						<input type="text" name="project" value="" />
					</div>
				</div>
			</div>
            <div class="row">
            <div class="col-md-4 ">
                <div class="ph-20 feature-box text-center object-non-visible" data-animation-effect="fadeInDownSmall" data-effect-delay="100">
            
            			<label>BOQ Name : 
						<input type="text" name="boqName" value=${projectName} />
						<input type="hidden" name="boqNameList" value=${boqNameList} >
						<input type="hidden" name="quotationNamesList" value=${quotationNamesList} >
						</label>
				</div>
            </div>
            </div>
            <input type="hidden" name="projectId" value="${projectId}"/>
            <div class="row">
              <div class="col-md-12 ">
				
				<div class="table-responsive">                
                <table class="table">
                <thead>
                  <tr>
                    <th>Select</th>
                    <th>Inventory</th>
                    <th>Material</th>
                    <th>Type</th>
                    <th>Manifacturing Method</th>
                    <th>Grade/Class</th>
                    <th>Ends</th>
                    <th>Size</th>
                    <th>Quantity</th>
					<th>Base Supply Rate</th>
					<th>Supply Rate</th>
                    <th>Base Erection Rate</th>
                    <th>Erection Rate</th>
                    <th>Supply Amout</th>
                    <th>Erection Amount</th>
                  </tr>
                  <tr>
                    <th></th>
                    <th></th>
                    <th></th>
                    <th></th>
                    <th></th>
                    <th></th>
                    <th></th>
                    <th></th>
                    <th></th>
                    <th></th>
					<th><input type="text" style="width:45px;" name="supplyPrsnt" onChange="updateSupplyRate($(this));"/></th>
                    <th></th>
                    <th><input type="text" style="width:45px;" name="erectionPrsnt" onChange="updateErectionRate($(this));"/></th>
                    <th></th>
                    <th></th>
                    <th></th>
                  </tr>
                </thead>
                
                <tbody id="tableContent">
                </tbody>
                
              </table>
                  </div>
                  
                </div>
              </div>
            <br>
            <div class="form-row">
				<div class="col-md-4 " id="offer">
					<div class="ph-20 feature-box text-center object-non-visible" data-animation-effect="fadeInDownSmall" data-effect-delay="100">
						<button type="button" class="btn btn-default" onClick="createInquiry();">Generate</button>		
					</div>
				</div>
				
				<div class="col-md-4" id="importBoq">
					<div class="ph-20 feature-box text-center object-non-visible" data-animation-effect="fadeInDownSmall" data-effect-delay="100">
					</div>					
				</div>
				<div class="col-md-4" id="generate" style="display:none">
					<div class="ph-20 feature-box text-center object-non-visible" data-animation-effect="fadeInDownSmall" data-effect-delay="100">
						<button type="Submit" class="btn btn-default">Generate Quotation</button>		
					</div>					
				</div>							
			</div>
            <!-- End -->
            
         </form>  
         
          
           <div class="form-row">
				<div class="col-md-4 " id="offer">
					<div class="ph-20 feature-box text-center object-non-visible" data-animation-effect="fadeInDownSmall" data-effect-delay="100">
					</div>
				</div>
				
				<div class="col-md-4" id="importBoq">
					<div class="ph-20 feature-box text-center object-non-visible" data-animation-effect="fadeInDownSmall" data-effect-delay="100">
						<form name="fileUploadForm" action="import" method="post" enctype="multipart/form-data">
							<input type="file" name="file" onClick="toggleImportSec();" class="btn btn-default"/>
					        <br/>
					        <button class="btn btn-primary" name="uploadFile">Upload</button>
						</form>
					</div>					
				</div>
				<div class="col-md-4" id="generate">
					<div class="ph-20 feature-box text-center object-non-visible" data-animation-effect="fadeInDownSmall" data-effect-delay="100">
					</div>					
				</div>							
			</div>
            
             
               
            <!-- Start Create BOQ -->
            
			<form name="generateBOQ" action="generateNew" class="createBOQ" style="display:none;" method="POST">
			<div class="row">
				<div class="col-md-3 ">
                	<div class="ph-20 feature-box text-center object-non-visible" data-animation-effect="fadeInDownSmall" data-effect-delay="100">
						<label>D Name</label>
						<input type="text" name="dName" value="" />
					</div>
				</div>
				<div class="col-md-3 ">
                	<div class="ph-20 feature-box text-center object-non-visible" data-animation-effect="fadeInDownSmall" data-effect-delay="100">
						<label>Utility  &ensp;</label>
						<input type="text" name="utility" value="" />
					</div>
				</div>
				<div class="col-md-3 ">
                	<div class="ph-20 feature-box text-center object-non-visible" data-animation-effect="fadeInDownSmall" data-effect-delay="100">
						<label>Pressure</label>
						<input type="text" name="pressure" value="" />
					</div>
				</div>
				<div class="col-md-3 ">
                	<div class="ph-20 feature-box text-center object-non-visible" data-animation-effect="fadeInDownSmall" data-effect-delay="100">
						<label>Temperature</label>
						<input type="text" name="temperature" value="" />
					</div>
				</div>
			</div>
			<div class="row">
				<div class="col-md-3 ">
                	<div class="ph-20 feature-box text-center object-non-visible" data-animation-effect="fadeInDownSmall" data-effect-delay="100">
						<label>D Number</label>
						<input type="text" name="dNo" value="" />
					</div>
				</div>
				<div class="col-md-3 ">
                	<div class="ph-20 feature-box text-center object-non-visible" data-animation-effect="fadeInDownSmall" data-effect-delay="100">
						<label>Client &ensp;</label>
						<input type="text" name="client" value="" />
					</div>
				</div>
				<div class="col-md-3 ">
                	<div class="ph-20 feature-box text-center object-non-visible" data-animation-effect="fadeInDownSmall" data-effect-delay="100">
						<label>Site &ensp;&ensp;&ensp;</label>
						<input type="text" name="site" value="" />
					</div>
				</div>
				<div class="col-md-3 ">
                	<div class="ph-20 feature-box text-center object-non-visible" data-animation-effect="fadeInDownSmall" data-effect-delay="100">
						<label>Project &ensp;</label>
						<input type="text" name="project" value="" />
					</div>
				</div>
			</div>
				
			<div class="row">
			<div class="col-md-4 ">
                <div class="ph-20 feature-box text-center object-non-visible" data-animation-effect="fadeInDownSmall" data-effect-delay="100">
            
            			<label>BOQ Name : 
						<input type="text" name="boqName" value=${projectName} />
						<input type="hidden" name="boqNameList" value=${boqNameList} >
						<input type="hidden" name="quotationNamesList" value=${quotationNamesList} >
						</label>
				</div>
            </div>
            </div>
			<input type="hidden" id="projectId" name="projectId" value="${projectId}"/>
            <div class="row">
              <div class="col-md-12 ">
				<div class="table-responsive">                
				<table class="table inventoryDetails" style="display:none;">
                <thead>
                  <tr>
                    <th>Inventory</th>
                    <th>Material</th>
                    <th>Type</th>
                    <th>Manifacturing Method</th>
                    <th>Class/Schedule</th>
                    <th>Ends</th>
                    <th>Size</th>
                    <th>Quantity</th>
                    <th>Base Supply Rate</th>
                    <th>Supply Rate</th>
                    <th>Base Erection Rate</th>
                    <th>Erection Rate</th>
                    <th>Supply Amount</th>
                    <th>Erection Amount</th>
                  </tr>
                  <tr>
                    <th></th>
                    <th></th>
                    <th></th>
                    <th></th>
                    <th></th>
                    <th></th>
                    <th></th>
                    <th></th>
                    <th></th>
                    <th></th>
					<th><input type="text" name="supplyPrsnt" onChange="updateSupplyRate($(this));"/></th>
                    <th></th>
                    <th><input type="text" name="erectionPrsnt" onChange="updateErectionRate($(this));"/></th>
                    <th></th>
                    <th></th>
                    <th></th>                  </tr>
                </thead>
                <tbody id="tableContentDetails">
				</tbody>
				</table>
				</div>
				</div>
				</div>
				<div class="form-row">
	<div class="col-md-4 ">
	<div class="ph-20 feature-box text-center object-non-visible" data-animation-effect="fadeInDownSmall" data-effect-delay="100">
	</div>
	</div>
	<div class="col-md-4 ">
	<div class="ph-20 feature-box text-center object-non-visible" data-animation-effect="fadeInDownSmall" data-effect-delay="100">
	</div>	
	</div>
	<div class="col-md-4 ">
	<div class="ph-20 feature-box text-center object-non-visible" data-animation-effect="fadeInDownSmall" data-effect-delay="100">
	<label></label>
	<br>
		<button type="submit" class="btn btn-default generateBOQButton" style="display:none;">Generate Quotation</button>
		</div>	
	</div>	
	</div>
	
	</form>
				
                <table class="table createBOQ" style="display:none;">
                <thead>
                  <tr>
                    <th>Inventory</th>
                    <th>Material</th>
                    <th>Type</th>
                    <th>Manifacturing Method</th>
                    <th>Class/Schedule</th>
                    <th>Ends</th>
                    <th>Size</th>
                  </tr>
                </thead>
                <tbody id="tableContent">
                 <tr>
<td>
<div class="form-group">
  <select class="form-control" name="inventoryName" id="inventoryName" onChange="myFunction(this.value,'inventoryName','material');">
    <option></option>
    <option value="Pipe">Pipe</option>
    <option value="Fittings">Fittings</option>
    <option value="Accesories">Accesories</option>
  </select>
</div>
</td>
<td>
<div class="form-group">
  <select class="form-control" name="material" id="material" onChange="myFunction(this.value,'material','type');">
    <option></option>
  </select>
</div>
</td>
<td>
<div class="form-group">
  <select class="form-control" name="type" id="type" onChange="myFunction($('#material').val(),'material','classOrGrade');">
    <option></option>
  </select>
</div>
</td>
<td>
<div class="form-group">
  <select class="form-control" name="manifacturingMethod" id="manifacturingMethod">
    <option></option>
    <option>Seamless</option>
    <option>ERW</option>
    <option>Centrifuge</option>
  </select>
</div>
</td>
<td>
<div class="form-group">
  <select class="form-control" name="classOrGrade" id="classOrGrade">
    <option></option>
  </select>
</div>
</td>
<td>
<div class="form-group">
  <select class="form-control" name="ends" id="ends">
    <option></option>
    <option>Buttweld</option>
    <option>Socket Weld/Threaded</option>
    <option>Threaded</option>
    <option>Plain End</option>
  </select>
</div>
</td>
<td>
<div class="form-group">
  <select class="form-control" name="size" id="size">
    <option></option>
    <option>1</option>
    <option>1.25</option>
    <option>1.5</option>
    <option>2</option>
    <option>2.5</option>
  </select>
</div>
</td>
</tr>                 
                </tbody>
              </table>
                  
                </div>
              
            <br>
            <div class="row">
              <div class="col-md-4 ">
                <div class="ph-20 feature-box text-center object-non-visible" data-animation-effect="fadeInDownSmall" data-effect-delay="100">
                </div>
              </div>
              <div class="col-md-4 ">
                <div class="ph-20 feature-box text-center object-non-visible" data-animation-effect="fadeInDownSmall" data-effect-delay="100">
                </div>
              </div>
              <div class="col-md-4 ">
                <div class="ph-20 feature-box text-center object-non-visible" data-animation-effect="fadeInDownSmall" data-effect-delay="100">
                </div>
              </div>
            </div>
			<div class="form-row createBOQ" style="display:none;">
				<div class="col-md-4 ">
					<div class="ph-20 feature-box text-center object-non-visible" data-animation-effect="fadeInDownSmall" data-effect-delay="100">
					</div>
				</div>
				<div class="col-md-4 ">
					<div class="ph-20 feature-box text-center object-non-visible" data-animation-effect="fadeInDownSmall" data-effect-delay="100">
					</div>					
				</div>
				<div class="col-md-4 ">
					<div class="ph-20 feature-box text-center object-non-visible" data-animation-effect="fadeInDownSmall" data-effect-delay="100">
						<label></label>
						<br>
						<button type="button" class="btn btn-default" onClick="appendInventory();">Add Inventory</button>		
					</div>					
				</div>
			</div>
			</div>				
					
            <!-- End Create BOQ -->
            
            <div class="row">
            <div class="col-md-4 ">
                <div class="ph-20 feature-box text-center object-non-visible" data-animation-effect="fadeInDownSmall" data-effect-delay="100">
						<label></label>
						<br>
						<button type="button" class="btn btn-default" onClick="toggleCreateBOQSec();">Create BOQ</button>
					</div>
            </div>
            
            <div class="col-md-4 ">
					<div class="ph-20 feature-box text-center object-non-visible" data-animation-effect="fadeInDownSmall" data-effect-delay="100">
						<label></label>
						<br>
						<button type="button" class="btn btn-default" onClick="toggleImportBOQSec();">Import Existing BOQ</button>
					</div>					
			</div>
			<div class="col-md-4 ">
					<div class="ph-20 feature-box text-center object-non-visible" data-animation-effect="fadeInDownSmall" data-effect-delay="100">
						<label></label>
						<br>
						<button type="button" class="btn btn-default" onClick="toggleProjSec();">Project Details Section</button>
					</div>					
			</div>
            </div>
            <div class="row">

            <div class="col-md-4 ">
                <div  class="ph-20 feature-box text-center object-non-visible" data-animation-effect="fadeInDownSmall" data-effect-delay="100" style="width:50%;padding-left:50px;">
					
						<br>
					</div>
            </div>
                        
            <div class="col-md-4 ">
                <div class="ph-20 feature-box text-center object-non-visible" data-animation-effect="fadeInDownSmall" data-effect-delay="100" style="width:50%;padding-left:50px;">
						<h4>BOQ Revisions</h4>
						<select class="form-control" id="revisionSection" onChange="download($('#revisionSection').val());">
    						<option></option>
						</select>
						<br>
					</div>
            </div>
            
            <div class="col-md-4 ">
                <div class="ph-20 feature-box text-center object-non-visible" data-animation-effect="fadeInDownSmall" data-effect-delay="100" style="width:50%;padding-left:50px;">
						<h4>Quotation List</h4>
						<select class="form-control" onChange="download($('#offerRevisionSection').val());" id="offerRevisionSection">
    						<option></option>
						</select>
						<br>
					</div>
            </div>     

            </div>
            <br>
          </div>
          </div>
        </section>
       
      </section>
      <!-- main-container end -->


      

      <!-- footer start (Add "dark" class to #footer in order to enable dark footer) -->
      <!-- ================ -->
      <footer id="footer" class="clearfix ">

        <!-- .subfooter start -->
        <!-- ================ -->
        <div class="subfooter">
          <div class="container">
            <div class="subfooter-inner">
              <div class="row">
                <div class="col-md-12">
                  <p class="text-center">Copyright © 2018 The Project. All rights reserved.</p>
                </div>
              </div>
            </div>
          </div>
        </div>
        <!-- .subfooter end -->

      </footer>
      <!-- footer end -->
    </div>
    <!-- page-wrapper end -->

    <!-- JavaScript files placed at the end of the document so the pages load faster -->
    <!-- ================================================== -->
    <!-- Jquery and Bootstap core js files -->
    <script src="plugins/jquery.min.js"></script>
    <script src="bootstrap/js/bootstrap.bundle.min.js"></script>
    <!-- Magnific Popup javascript -->
    <script src="plugins/magnific-popup/jquery.magnific-popup.min.js"></script>
    <!-- Appear javascript -->
    <script src="plugins/waypoints/jquery.waypoints.min.js"></script>
    <script src="plugins/waypoints/sticky.min.js"></script>
    <!-- Count To javascript -->
    <script src="plugins/countTo/jquery.countTo.js"></script>
    <!-- Slick carousel javascript -->
    <script src="plugins/slick/slick.min.js"></script>
    <!-- Initialization of Plugins -->
    <script src="js/template.js"></script>
    <!-- Custom Scripts -->
    <script src="js/custom.js"></script>
    
    <script>
    function toggleProjSec()
    {
    	$('.projDetails').toggle();
    
    }
    
    </script>
        <script>
    function toggleCreateBOQSec()
    {
    	$('.createBOQ').toggle();
    
    }
    
    </script>
        <script>
    function toggleImportBOQSec()
    {
    	$('.importBOQ').toggle();
    
    }
    
    </script>
<script>
function captureFileLocation() {
    var fileLocation;
    var entrerLocationRequest = prompt("Please Enter the file location", "BOQ File Location");
    if (entrerLocationRequest == null || entrerLocationRequest == "") {
        fileLocation = "User cancelled the prompt.";
    } else {
        fileLocation = entrerLocationRequest;
    }
console.log("File Location : "+fileLocation);

if(fileLocation != "User cancelled the prompt.")
{
	$.ajax({
			type : 'POST',
			data : {'location' : fileLocation},
            url : 'import',
            success : function(data) {
            
                $('#tableContent').html(data);
            }
        });
        
        var imp = document.getElementById("importBoq");
        //imp.style.display = "none";
        
        var generate = document.getElementById("generate");
        generate.style.display = "block";
}
}
</script>

<script>
function updateSupplyRate(thisObj)
{

var rate = [];
var quantity = [];

console.log("presentage : "+$(thisObj).val());

$("input[name='baseSupplyRate']").each(function() {
    
   	var sRate = parseFloat($(this).val()) + parseFloat($(thisObj).val()*$(this).val()/100);
   
    console.log('sRate is : '+sRate);
    
    rate.push(sRate);
});

var int = 0;
$("input[name='supplyRate']").each(function() {
		$(this).val(rate[int]);
		int++;
	});


$("input[name='quantity']").each(function() {
	quantity.push($(this).val());
});

var i = 0;

$("input[name='supplyAmount']").each(function() {
	console.log(rate[i]);
	console.log(quantity[i]);
	$(this).val(rate[i]*quantity[i]);
	i++;
});

}
</script>        
<script>
function updateErectionRate(thisObj)
{

var rate = [];
var quantity = [];

$("input[name='baseErectionRate']").each(function() {
    
    var eRate = parseFloat($(this).val()) + parseFloat($(thisObj).val()*$(this).val()/100);
    rate.push(eRate);
});

var int = 0;
$("input[name='erectionRate']").each(function() {
		$(this).val(rate[int]);
		int++;
	});

$("input[name='quantity']").each(function() {
	quantity.push($(this).val());
});

var i = 0;

$("input[name='erectionAmount']").each(function() {
	console.log(rate[i]);
	console.log(quantity[i]);
	$(this).val(rate[i]*quantity[i]);
	i++;
});
}
</script>

<script>
function myFunction(value, tagName, nextTagName) {
    
    var tag = '#'+nextTagName;
    
    $.ajax({
			type : 'POST',
			data :  {'value' : value,'currentTag' : tagName,'nextTagName' : nextTagName},
            url : 'getDropdown',
            success : function(data) {
            
            console.log(data);
            console.log($(tag));
            			$(tag).html("<option></option>");
						$(tag).append(data);
                        }
        });
}
</script>
<script>
function appendInventory() 
{

$('.generateBOQButton').css('display','block');

var inventoryName = $('#inventoryName').children("option:selected").val();
var material = $('#material').children("option:selected").val();
var type = $('#type').children("option:selected").val();
var manifacturingMethod = $('#manifacturingMethod').children("option:selected").val();
var classOrGrade = $('#classOrGrade').children("option:selected").val();
var ends = $('#ends').children("option:selected").val();
var size = $('#size').val();

console.log(type);
	
	var	template = "<tr>" 
	+ "    <td> <input type='hidden' name='inventoryName' value='"+inventoryName+"'></input>"+inventoryName+"</td>"
	+ "    <td>  <input type='hidden' name='material' value='"+material+"'></input>"+material+"</td>"
	+ "    <td> <input type='hidden' name='type' value='"+type+"'></input>"+type+"</td>"
	+ "    <td> <input type='hidden' name='manifMetod' value='"+manifacturingMethod+"'></input>"+manifacturingMethod+"</td>"
	+ "    <td> <input type='hidden' name='classOrGrade' value='"+classOrGrade+"'></input>"+classOrGrade+"</td>"
	+ "    <td> <input type='hidden' name='ends' value='"+ends+"'></input>"+ends+"</td>"
	+ "    <td> <input type='hidden' name='size' value='"+size+"'></input>"+size+"</td>"
	+ "	   <td><input type='text' name='quantity' value=''></input></td>"
	+ "	   <td><input type='text' name='baseSupplyRate' value=''></input></td>"
	+ "	   <td><input type='text' name='supplyRate' value=''></input></td>"
	+ "	   <td><input type='text' name='baseErectionRate' value=''></input></td>"
	+ "	   <td><input type='text' name='erectionRate' value=''></input></td>"
	+ "	   <td><input type='text' name='supplyAmount' value=''></input></td>"
	+ "	   <td><input type='text' name='erectionAmount' value=''></input></td>";
	
	console.log(template);
            	$('.inventoryDetails').css("display","block");          	
                $('#tableContentDetails').append(template);
}

</script>

<script>

$(document).ready(function(){
   // we define and invoke a function
   (function(){
          
     var inputArray = $("input[name='boqNameList']")[0].value.split(",");
     
     var names = [];
		$.each(inputArray, function(i, el){
    		if($.inArray(el, names) === -1) 
    		{
    		names.push(el);
    		}
		});

     var dummy = "<option value=\"BOQRevisions\"><h5>BOQRevisions</h5></option>";
     
    $.each(names,function(i){
   			
   			var dummy1 = dummy.replace("BOQRevisions",names[i]);
   			
   			var tags = dummy1.replace("BOQRevisions",names[i]);
   			
   			$('#revisionSection').append(tags);
   			
		});
     
   })();
});

$(document).ready(function(){
   // we define and invoke a function
   (function(){
          
     var inputArray = $("input[name='quotationNamesList']")[0].value.split(",");
     
     var names = [];
		$.each(inputArray, function(i, el){
    		if($.inArray(el, names) === -1) 
    		{
    		names.push(el);
    		}
		});

     var dummy = "<option value=\"QuotationRevisions\"><h5>QuotationRevisions</h5></option>";
     
    $.each(names,function(i){
   			
   			var dummy1 = dummy.replace("QuotationRevisions",names[i]);
   			
   			var tags = dummy1.replace("QuotationRevisions",names[i]);
   			
   			$('#offerRevisionSection').append(tags);
   			
		});
     
   })();
});
</script>

<script>
function download(name) 
{
	console.log("Download being called.");
    
    var projectId = $('#projectId').val();  
                
    var formData = $(this).serializeArray();

	formData.push({name: 'projectId', value: $('#projectId').val()});
	formData.push({name: 'boqName', value: name});
		
    $.ajax({
			type : 'GET',
			data :  formData,
            url : 'downloadBoq',
            success : function(data)
            {            
            	console.log(data);
            	$('#tableContent').html(data);
		    	console.log('Download Successful..!!');
            }
                         
        });
                               
        toggleImportBOQSec();
                       
		var importSec = document.getElementById("generateBOQ");                                         
        importSec.style.display = "block";
        
        var generate = document.getElementById("offer");
        generate.style.display = "block";


		var generateBOQ = document.getElementById("generate");
        generateBOQ.style.display = "block";

}
</script>
<script>
function createInquiry() 
{

	console.log("calling createInquiry()...")
	var CheckeleCount = document.forms["generateBOQ"].getElementsByClassName("checkbox").length;

	var selectedElements = [];
	var i;

	for(i=0; i < CheckeleCount; i++)
	{
		if(document.forms["generateBOQ"].getElementsByClassName("checkbox")[i].checked)
		{
			selectedElements[i] = i;
		}
	}

	var eleCount = document.forms["generateBOQ"].getElementsByTagName("input").length;

	
	var inventoryName       = [];
	var material            = [];
	var type                = [];
	var manifacturingMethod = [];
	var classOrGrade        = [];
	var ends                = [];
	var size                = [];
	var quantity            = [];
	var baseSupplyRate      = [];
	var supplyRate          = [];
	var baseErectionRate    = [];
	var erectionRate        = [];
	var supplyAmount        = [];
	var erectionAmount      = [];

	var j;
	var k = 0;
	var n = 1;
	for(k=0;k<selectedElements.length;k++)
	{
	
	if(selectedElements[k] != undefined)
	{
		var start = 7 + 13*parseFloat(selectedElements[k]) ;
				
				
				inventoryName[k] 	  = $('#generateBOQ input')[start++].value;
							      
				material[k]      	  = $('#generateBOQ input')[start++].value;     
				type[k]               = $('#generateBOQ input')[start++].value;
				manifacturingMethod[k]= $('#generateBOQ input')[start++].value;
				classOrGrade[k]       = $('#generateBOQ input')[start++].value;
				ends[k]               = $('#generateBOQ input')[start++].value;
				size[k]               = $('#generateBOQ input')[start++].value;
				quantity[k]           = $('#generateBOQ input')[start++].value;
				baseSupplyRate[k]     = $('#generateBOQ input')[start++].value;
				supplyRate[k]         = $('#generateBOQ input')[start++].value;
				baseEerectionRate[k]  = $('#generateBOQ input')[start++].value;
				erectionRate[k]       = $('#generateBOQ input')[start++].value;
				supplyAmount[k]       = $('#generateBOQ input')[start++].value;
				erectionAmount[k]     = $('#generateBOQ input')[start++].value;
	}	
	}
	
	var lastArray = 3 + 12*parseFloat(selectedElements[parseFloat(selectedElements.length) - 1]);
	
	
		var formData = $(this).serializeArray();
		
		
		formData.push({name: 'projectId', value: $('#generateBOQ input')[3].value});
		formData.push({name: 'boqName', value: $('#generateBOQ input')[0].value});
		
		var inventoryName_string = cleanArray(inventoryName);
		formData.push({name: 'inventoryName', value: inventoryName_string});
		var material_string = cleanArray(material);
		formData.push({name: 'material', value: material_string});
		var type_string = cleanArray(type);
		formData.push({name: 'type', value: type_string});
		var manifacturingMethod_string = cleanArray(manifacturingMethod);
		formData.push({name: 'manifMetod', value: manifacturingMethod_string});
		var classOrGrade_string = cleanArray(classOrGrade);
		formData.push({name: 'classOrGrade', value: classOrGrade_string});
		var ends_string = cleanArray(ends);
		formData.push({name: 'ends', value: ends_string});
		var size_string = cleanArray(size);
		formData.push({name: 'size', value: size_string});
		var quantity_string = cleanArray(quantity);
		formData.push({name: 'quantity', value: quantity_string});
		
		var baseSupplyRate_string = cleanArray(baseSupplyRate);
		formData.push({name: 'baseSupplyRate', value: baseSupplyRate_string});
		var supplyRate_string = cleanArray(supplyRate);
		formData.push({name: 'supplyRate', value: supplyRate_string});
		var baseErectionRate_string = cleanArray(baseErectionRate);
		formData.push({name: 'baseErectionRate', value: baseErectionRate_string});
		var erectionRate_string = cleanArray(erectionRate);
		formData.push({name: 'erectionRate', value: erectionRate_string});
		
		var supplyAmount_string = cleanArray(supplyAmount);
		formData.push({name: 'supplyAmount', value: supplyAmount_string});
		var erectionAmount_string = cleanArray(erectionAmount);
		formData.push({name: 'erectionAmount', value: erectionAmount_string});
				
		formData.push({name: 'isOffer', value: 'true'});
				
		$.ajax({
			url: "generate",
			data: formData,
			type: 'post',
			success: function(data) {
				console.log(data);
			}
		});
}

function cleanArray(actual)
{
    var newArray = new Array();
    for(var i = 0; i<actual.length; i++)
    {
        if (actual[i])
        {
            newArray.push(actual[i]);
        }
    }
    return newArray;
}
</script>

<script type="text/javascript">
$(function() {
  $('button[name=uploadFile]').click(function(e) {
    e.preventDefault();
    //Disable submit button
    $(this).prop('disabled',true);
    
    var form = document.forms[name="fileUploadForm"];
    
    var formData = new FormData(form);
    	
    console.log(formData);	
    // Ajax call for file uploaling
    var ajaxReq = $.ajax({
      url : 'import',
      type : 'POST',
      data : formData,
      cache : false,
      contentType : false,
      processData : false,
      
      success: function(data) {
				$('#tableContent').html(data);
                adjustWidth();
                
                var imp = document.getElementById("importBoq");
        //imp.style.display = "none";
        
        var generate = document.getElementById("generate");
        generate.style.display = "block";
        
        var generateInq = document.getElementById("generateQuot");
        generateInq.style.display = "block";
			}
    });
  
    // Called on success of file upload
    ajaxReq.done(function(msg) {
      $('input[type=file]').val('');
      $('button[type=submit]').prop('disabled',false);
    });
    
    // Called on failure of file upload
    ajaxReq.fail(function(jqXHR) {
      $('button[type=submit]').prop('disabled',false);
    });
  });
});
</script>
<script>
    function toggleImportSec()
    {
    	$('.importBOQ').toggle();
    }    
</script>
</body>
</html>
